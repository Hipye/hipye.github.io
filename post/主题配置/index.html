<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.105.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>主题配置&nbsp;&ndash;&nbsp;拾集</title><link rel=stylesheet href=/css/core.min.eef42685ca19d66e233c82b38f89dee2263bef47ad7d7fa174fc03d35083eb9fcbe1bd670b208539d1ffcd57828732f1.css integrity=sha384-7vQmhcoZ1m4jPIKzj4ne4iY770etfX+hdPwD01CD65/L4b1nCyCFOdH/zVeChzLx><meta name=twitter:card content="summary"><meta name=twitter:title content="主题配置"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">拾集</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>归档</a><a class="nav item" href=/tags/>标签</a><a class="nav item" href=/about>相关</a><a class="nav item" href></a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">主题配置</h1><p class="article date">2022-11-09<span class=reading-time> • One minute to read</span></p></section><article class="article markdown-body"><p>主题简约没有代码复制 自定义添加</p><p>博客目录下<code>static/css</code>添加<code>copy-to-clipboard.css</code>内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>highlight</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>relative</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>highlight</span> <span style=color:#f92672>pre</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-right</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>:<span style=color:#ae81ff>#f8f8f8</span> <span style=color:#75715e>!important</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>highlight</span> <span style=color:#f92672>td</span>:<span style=color:#a6e22e>first-child</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>user-select</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>highlight-copy-btn</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>absolute</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>top</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>right</span>: <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>8</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>0.5</span><span style=color:#66d9ef>em</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>1.8</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#fff</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#ae81ff>#888</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>min-width</span>: <span style=color:#ae81ff>55</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>z-index</span>: <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transition</span>: <span style=color:#ae81ff>.1</span><span style=color:#66d9ef>s</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>opacity</span>: <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>highlight-copy-btn</span>:<span style=color:#a6e22e>hover</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#ae81ff>#666</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在<code>static/js</code>下添加<code>copy-to-clipboard.js</code>内容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span>(<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;use strict&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>document.<span style=color:#a6e22e>queryCommandSupported</span>(<span style=color:#e6db74>&#39;copy&#39;</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>flashCopyMessage</span>(<span style=color:#a6e22e>el</span>, <span style=color:#a6e22e>msg</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>el</span>.<span style=color:#a6e22e>textContent</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>msg</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>el</span>.<span style=color:#a6e22e>textContent</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Copy&#34;</span>;
</span></span><span style=display:flex><span>    }, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>selectText</span>(<span style=color:#a6e22e>node</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>selection</span> <span style=color:#f92672>=</span> window.<span style=color:#a6e22e>getSelection</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>range</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createRange</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>range</span>.<span style=color:#a6e22e>selectNodeContents</span>(<span style=color:#a6e22e>node</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>selection</span>.<span style=color:#a6e22e>removeAllRanges</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>selection</span>.<span style=color:#a6e22e>addRange</span>(<span style=color:#a6e22e>range</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>selection</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>addCopyButton</span>(<span style=color:#a6e22e>containerEl</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>copyBtn</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#34;button&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>copyBtn</span>.<span style=color:#a6e22e>className</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;highlight-copy-btn&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>copyBtn</span>.<span style=color:#a6e22e>textContent</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Copy&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>codeEl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>containerEl</span>.<span style=color:#a6e22e>firstElementChild</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>copyBtn</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, <span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>selection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>selectText</span>(<span style=color:#a6e22e>codeEl</span>);
</span></span><span style=display:flex><span>        document.<span style=color:#a6e22e>execCommand</span>(<span style=color:#e6db74>&#39;copy&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>selection</span>.<span style=color:#a6e22e>removeAllRanges</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>flashCopyMessage</span>(<span style=color:#a6e22e>copyBtn</span>, <span style=color:#e6db74>&#39;Copied!&#39;</span>)
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>e</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>flashCopyMessage</span>(<span style=color:#a6e22e>copyBtn</span>, <span style=color:#e6db74>&#39;Failed :\&#39;(&#39;</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>containerEl</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>copyBtn</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Add copy button to code blocks
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>highlightBlocks</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementsByClassName</span>(<span style=color:#e6db74>&#39;highlight&#39;</span>);
</span></span><span style=display:flex><span>  Array.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>forEach</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>highlightBlocks</span>, <span style=color:#a6e22e>addCopyButton</span>);
</span></span><span style=display:flex><span>;
</span></span><span style=display:flex><span>})();
</span></span></code></pre></div></article></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/post/ubuntu%E7%BC%96%E8%AF%91openwrt/><span class="iconfont icon-article"></span>Ubuntu编译openwrt</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>©2019 Notepadium.</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a></p></div></section><script src=/js/hljs.min.6f979583f61e4ec5f0b94f94eab2e130ee628032474d374414dba4e33cc12097a0d01fe65b33378b23f6d3b053b95445.js integrity=sha384-b5eVg/YeTsXwuU+U6rLhMO5igDJHTTdEFNuk4zzBIJeg0B/mWzM3iyP207BTuVRF></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/copy-to-clipboard.js></script></body></html>