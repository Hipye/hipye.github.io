<!doctype html><html lang=zh><meta charset=utf-8><meta name=generator content="Hugo 0.114.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Mysql基础命令&nbsp;&ndash;&nbsp;拾集</title><link rel=stylesheet href=/css/core.min.1ac09430cb73cb10e4e8675a00860a85fd942690ba93348295ae6a4cc113badfeb6c30ab7527e6b42511a7163c630af5.css integrity=sha384-GsCUMMtzyxDk6GdaAIYKhf2UJpC6kzSCla5qTMETut/rbDCrdSfmtCURpxY8Ywr1><meta name=twitter:card content="summary"><meta name=twitter:title content="Mysql基础命令"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img class="site logo" src=/images/avatar.png alt><span class="site name">拾集</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>分类</a><a class="nav item" href=/tags/>标签</a><a class="nav item" href></a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Mysql基础命令</h1><p class="article date">2023-03-14<span class=lastmod> • 更新于 2023-09-16</span><span class=reading-time> • 预计阅读时间 1 分钟</span></p></section><article class="article markdown-body"><p>当您在使用 “UPDATE user SET password=PASSWORD(‘newpassword’) WHERE User=‘root’;” 命令时提示 “ERROR 1356 (HY000): View ‘mysql.user’ references invalid table(s) or column(s) or function(s) or definer/invoker of view lack rights to use them”，表明在您的 MariaDB 版本中，‘user’ 表已经不存在，由于版本不同的MariaDB解决方案也不同。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#&gt;10.4.4</span>
</span></span><span class=line><span class=cl>ALTER USER <span class=s1>&#39;root&#39;</span>@<span class=s1>&#39;localhost&#39;</span> IDENTIFIED BY <span class=s1>&#39;newpassword&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#&lt;10.4.4</span>
</span></span><span class=line><span class=cl>SET PASSWORD FOR <span class=s1>&#39;root&#39;</span>@<span class=s1>&#39;localhost&#39;</span> <span class=o>=</span> PASSWORD<span class=o>(</span><span class=s1>&#39;newpassword&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span></code></pre></div><p>先登入数据库</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#使用mysql</span>
</span></span><span class=line><span class=cl>use mysql
</span></span><span class=line><span class=cl><span class=c1>#查询</span>
</span></span><span class=line><span class=cl>SELECT User, Password, Host FROM user<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#创建用户</span>
</span></span><span class=line><span class=cl>CREATE USER <span class=s1>&#39;root&#39;</span>@<span class=s1>&#39;%&#39;</span> IDENTIFIED BY <span class=s1>&#39;root&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#授权</span>
</span></span><span class=line><span class=cl>grant all privileges on *.* to <span class=s1>&#39;root&#39;</span>@<span class=s1>&#39;%&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#刷新</span>
</span></span><span class=line><span class=cl>FLUSH PRIVILEGES<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#创建数据库</span>
</span></span><span class=line><span class=cl>create DATABASE RUNOOB<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#删除数据库</span>
</span></span><span class=line><span class=cl>drop database RUNOOB<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#使用数据库</span>
</span></span><span class=line><span class=cl>use RUNOOB<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>#添加数据表</span>
</span></span><span class=line><span class=cl>CREATE TABLE <span class=sb>`</span>websites<span class=sb>`</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>  <span class=sb>`</span>id<span class=sb>`</span> int<span class=o>(</span>11<span class=o>)</span> NOT NULL AUTO_INCREMENT,
</span></span><span class=line><span class=cl>  <span class=sb>`</span>name<span class=sb>`</span> char<span class=o>(</span>20<span class=o>)</span> NOT NULL DEFAULT <span class=s1>&#39;&#39;</span> COMMENT <span class=s1>&#39;站点名称&#39;</span>,
</span></span><span class=line><span class=cl>  <span class=sb>`</span>url<span class=sb>`</span> varchar<span class=o>(</span>255<span class=o>)</span> NOT NULL DEFAULT <span class=s1>&#39;&#39;</span>,
</span></span><span class=line><span class=cl>  <span class=sb>`</span>alexa<span class=sb>`</span> int<span class=o>(</span>11<span class=o>)</span> NOT NULL DEFAULT <span class=s1>&#39;0&#39;</span> COMMENT <span class=s1>&#39;Alexa 排名&#39;</span>,
</span></span><span class=line><span class=cl>  <span class=sb>`</span>country<span class=sb>`</span> char<span class=o>(</span>10<span class=o>)</span> NOT NULL DEFAULT <span class=s1>&#39;&#39;</span> COMMENT <span class=s1>&#39;国家&#39;</span>,
</span></span><span class=line><span class=cl>  PRIMARY KEY <span class=o>(</span><span class=sb>`</span>id<span class=sb>`</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>)</span> <span class=nv>ENGINE</span><span class=o>=</span>InnoDB <span class=nv>AUTO_INCREMENT</span><span class=o>=</span><span class=m>10</span> DEFAULT <span class=nv>CHARSET</span><span class=o>=</span>utf8<span class=p>;</span>
</span></span><span class=line><span class=cl>INSERT INTO <span class=sb>`</span>websites<span class=sb>`</span> VALUES <span class=o>(</span><span class=s1>&#39;1&#39;</span>, <span class=s1>&#39;Google&#39;</span>, <span class=s1>&#39;https://www.google.cm/&#39;</span>, <span class=s1>&#39;1&#39;</span>, <span class=s1>&#39;USA&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;2&#39;</span>, <span class=s1>&#39;淘宝&#39;</span>, <span class=s1>&#39;https://www.taobao.com/&#39;</span>, <span class=s1>&#39;13&#39;</span>, <span class=s1>&#39;CN&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;3&#39;</span>, <span class=s1>&#39;菜鸟教程&#39;</span>, <span class=s1>&#39;http://www.runoob.com&#39;</span>, <span class=s1>&#39;5892&#39;</span>, <span class=s1>&#39;&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;4&#39;</span>, <span class=s1>&#39;微博&#39;</span>, <span class=s1>&#39;http://weibo.com/&#39;</span>, <span class=s1>&#39;20&#39;</span>, <span class=s1>&#39;CN&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;5&#39;</span>, <span class=s1>&#39;Facebook&#39;</span>, <span class=s1>&#39;https://www.facebook.com/&#39;</span>, <span class=s1>&#39;3&#39;</span>, <span class=s1>&#39;USA&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span></code></pre></div><p>意外退出导致数据库不能运行</p><pre tabindex=0><code>cd ../usr/var/lib/mysql/
rm -rf ibdata1 ib_logfile0 ib_logfile1
</code></pre></article><section class="article labels"><a class=category href=/categories/mysql/>Mysql</a><a class=tag href=/tags/></a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/java%E5%9F%BA%E7%A1%80/><span class="iconfont icon-article"></span>Java基础</a></p><p><a class=link href=/posts/mvn/><span class="iconfont icon-article"></span>Maven基础配置</a></p></section><section class="article discussion"><script src=https://utteranc.es/client.js repo=Hipye/morris issue-term=pathname label theme=github-light crossorigin=anonymous async></script></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>©2019 Moriz.</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a></p></div></section><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=/js/hljs.min.6f979583f61e4ec5f0b94f94eab2e130ee628032474d374414dba4e33cc12097a0d01fe65b33378b23f6d3b053b95445.js integrity=sha384-b5eVg/YeTsXwuU+U6rLhMO5igDJHTTdEFNuk4zzBIJeg0B/mWzM3iyP207BTuVRF></script><script>hljs.initHighlightingOnLoad()</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XXXXXXXXXX",{anonymize_ip:!1})}</script><script src=/js/core.min.59672cc6ef0b6dd700d9fbd511a1202d5648b213c471b63b61fe2e855804cba87304a1345291871027371812b3636753.js integrity=sha384-WWcsxu8LbdcA2fvVEaEgLVZIshPEcbY7Yf4uhVgEy6hzBKE0UpGHECc3GBKzY2dT></script></body></html>