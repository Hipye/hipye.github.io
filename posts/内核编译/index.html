<!doctype html><html lang=zh><meta charset=utf-8><meta name=generator content="Hugo 0.107.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=google-site-verification content="AsHOUXvrnOA93vxhoMbbXs5tMB7_Hs1_iDtR9d6LYiI"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><link rel=bookmark type=image/x-icon href=images/avatar.png><link rel=icon type=image/x-icon href=images/avatar.png><link rel="shortcut icon" type=image/x-icon href=images/avatar.png><script async src="https://www.googletagmanager.com/gtag/js?id=UA-109916879-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-109916879-1")</script><title>内核编译&nbsp;&ndash;&nbsp;拾集</title><link rel=stylesheet href=/css/core.min.9ff7e9cf576fc82e3a413b6047706e8d3305066d9b901cf82f1dbbca7ed0f88eb4cf96500697f2fc8195eddeb5be64d9.css integrity=sha384-n/fpz1dvyC46QTtgR3BujTMFBm2bkBz4Lx27yn7Q+I60z5ZQBpfy/IGV7d61vmTZ><meta name=twitter:card content="summary"><meta name=twitter:title content="内核编译"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">拾集</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/archives/>归档 </a><a class="nav item" href=/categories/>分类 </a><a class="nav item" href=/tags/>标签</a>
<a class="nav item" href></a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">内核编译</h1><p class="article date">2022-12-05
<span class=wordcount>&nbsp;•&nbsp;共&nbsp;1916&nbsp;个字</span><span class=reading-time> • 预计阅读时间 4 分钟</span></p></section><article class="article markdown-body"><div><p>鸽了很久的内核开启docker教程来了 我又来炒冷饭了
〔如又不对大佬轻喷指正，我是菜鸡〕
为小米mix2s〔polaris〕的内核开启docker支持
手机📱需要root，**上网条件，基本Linux知识
本用一加8t为小mix2s编译支持docker内核
1.linux环境部署 kali nethunter
<a href=https://store.nethunter.com/ target=_blank rel="noopener noreferrer">https://store.nethunter.com/</a>
kali的rootfs下载 kalifs-amm64-full.tar.xz 这个文件，填写好路径，等待安装完成。可参照我以前动态
<a href="https://www.coolapk.com/feed/30854896?shareKey=YTBhNjYwMmFiNTFmNjJlYjU0YjI~&shareUid=1378604&shareFrom=com.coolapk.market_10.5" target=_blank rel="noopener noreferrer">https://www.coolapk.com/feed/30854896?shareKey=YTBhNjYwMmFiNTFmNjJlYjU0YjI~&shareUid=1378604&shareFrom=com.coolapk.market_10.5</a></p><p>kalinethunter的rootfs下载
<a href=https://kali.download/nethunter-images/kali-2022.1/rootfs/ target=_blank rel="noopener noreferrer">https://kali.download/nethunter-images/kali-2022.1/rootfs/</a></p><p>以下2个app也可部署linux环境，请自行搜索🔍
1.1 termux
<a href=https://f-droid.org/en/packages/com.termux/ target=_blank rel="noopener noreferrer">https://f-droid.org/en/packages/com.termux/</a></p><p>1.2 linuxdeploy
<a href=https://github.com/meefik/linuxdeploy target=_blank rel="noopener noreferrer">https://github.com/meefik/linuxdeploy</a></p><p>1.3 编译工具链 clang官方 <a href=https://github.com/llvm/llvm-project/releases target=_blank rel="noopener noreferrer">https://github.com/llvm/llvm-project/releases</a></p><p>2.个人习惯用kali,如何安装可看我以前的动态 或者自行搜索相关教>程。开启ssh服务。安装termux,并打开终端 键入 apt install -y openssh ssh连接kali ssh root@localhost 密码 toor</p><p>2.1 更新一下
apt update && apt upgrade -y
2.2 安装依赖环境
apt install -y git libssl-dev gcc-arm-linux-gnueabi clang build-essential libncurses5-dev bzip2 make python-is-python3 gcc g++ grep bc curl bison flex openssl lzop ccache unzip libssl-dev zlib1g-dev ninja-build texinfo file ca-certificates ccache wget cmake texinfo ca-certificates zlib1 g-dev xz-utils libelf-dev</p><p>2.3 然后（非必须，自带的clang也可，主要是想用最新的，实测编译时间快了5分钟，还是有很大提升的，以前30mins,现在25mins 在865测试的，听说开启ccache还可以更快[受虐滑稽]）
cd ~ && wget <a href=https://github.com/llvm/llvm-project/releases/download/llvmorg-14.0.6/clang+llvm-14.0.6-aarch64-linux-gnu.tar.xz target=_blank rel="noopener noreferrer">https://github.com/llvm/llvm-project/releases/download/llvmorg-14.0.6/clang+llvm-14.0.6-aarch64-linux-gnu.tar.xz</a>
&& tar -xvf clang+llvm-14.0.6-aarch64-linux-gnu.tar.xz && rm -rf clang+llvm-14.0.6-aarch64-linux-gnu.tar.xz</p><p>2.4 克隆内核源码
如何找？xda按🐔型话题带rom kernel的就是 直达 <a href=https://forum.xda-developers.com/ target=_blank rel="noopener noreferrer">https://forum.xda-developers.com/</a></p><p>克隆mix2s arrow11内核
git clone <a href=https://github.com/ArrowOS-Devices/android_kernel_xiaomi_sdm845.git target=_blank rel="noopener noreferrer">https://github.com/ArrowOS-Devices/android_kernel_xiaomi_sdm845.git</a>
然后打开源码目录
cd android_kernel_xiaomi_sdm845</p><p>2.5 编辑xxx_defconfig内核配置文件开启docker支持
一般是编辑xxxx_defcofig
vim arch/arm64/configs/xxxx_defcofig
小米mix2s的为
vim arch/arm64/configs/polaris_defcofig
加入以下内容（注意不是以下中文内容哈[受虐滑稽][受虐滑稽][受虐滑稽]
｛〔此法为垃圾配置法，不要学啦，主要是好偷懒[流汗滑稽][流汗滑稽]，大佬轻喷。标准方法是make menuconfig然后逐一开启〕但有的是 vim arch/arm64/configs/vendor/xxxx_defcofig
看自己机型情况了。以下内容有亿点长[流汗滑稽][流汗滑稽],反正就是复制粘贴完事，其实就是原作者的那个检测脚本上所有的配置选项全部启用，管它是绿还是红，全部加进去就完了还有就是在make menuconfig时开启cgroup , namespace内所有选项。我反正就是这么搞的当然你们如果怕出问题那就自己检测一翻，将报红的加进去就行了,如果编译之后内核还是无法运行的docker，可以向我这样搞一下，大概就是这样了其他的要靠你们自己了[流汗滑稽][流汗滑稽][流汗滑稽]，我只是个小白，不是搞编程的只懂一丢丢，大多数情况下也帮助不了你们[流汗滑稽][流汗滑稽][流汗滑稽]，好了说了这么多，搞就玩事了，“只要思想不滑坡，办法总比困难多”
废话有点多了[流汗滑稽]，更改的内容放在下一篇中吧｝</p><p>就像以下内容全部加到xxx_defconfig文件中并保存</p><p>安卓开启docker🔗
<a href=https://gist.github.com/tomxi1997/f1f8692342e57272d7aa8a1e9829c978 target=_blank rel="noopener noreferrer">https://gist.github.com/tomxi1997/f1f8692342e57272d7aa8a1e9829c978</a>
自行先研究一下吧主要参照</p><p>还有就是华中科大的github也有相关的
<a href=https://github.com/CGCL-codes/Android-Container target=_blank rel="noopener noreferrer">https://github.com/CGCL-codes/Android-Container</a>
就参考着搞吧，相信你也可以
下集更精彩，休息一下马上回来[受虐滑稽][受虐滑稽][受虐滑稽]
（等我肝好了再发)</p><p>可以先吃一下冷🥶饭，先冷静冷静[受虐滑稽][受虐滑稽]{以下内容为相关补充，大佬请无视，不懂的可以温习一下，步骤都差不多}
冷饭合集
内核编译使用顺序,请你认真阅读,已经详细记录所有用到的工具和软件
链接: <a href=https://pan.baidu.com/s/1QVysyw8C3Ra4Q_BsIXbRXw target=_blank rel="noopener noreferrer">https://pan.baidu.com/s/1QVysyw8C3Ra4Q_BsIXbRXw</a>
 
提取码:38o5</p><p>kali,busybox,AKI
<a href=https://wwp.lanzouh.com/b021bfv6h target=_blank rel="noopener noreferrer">https://wwp.lanzouh.com/b021bfv6h</a>
密码：azcz</p><p>❶ <a href="https://www.coolapk.com/feed/35736543?shareKey=ODFjMzMzMjA5MDEzNjI3OWUzOTU~&shareUid=1378604&shareFrom=com.coolapk.market_12.2.1" target=_blank rel="noopener noreferrer">https://www.coolapk.com/feed/35736543?shareKey=ODFjMzMzMjA5MDEzNjI3OWUzOTU~&shareUid=1378604&shareFrom=com.coolapk.market_12.2.1</a></p><p>❷ <a href="https://www.coolapk.com/feed/35738263?shareKey=ZGJmZTEyOWZkMDZiNjI3OWU0NDg~&shareUid=1378604&shareFrom=com.coolapk.market_12.2.1" target=_blank rel="noopener noreferrer">https://www.coolapk.com/feed/35738263?shareKey=ZGJmZTEyOWZkMDZiNjI3OWU0NDg~&shareUid=1378604&shareFrom=com.coolapk.market_12.2.1</a></p><p>❸ <a href="https://www.coolapk.com/feed/35760157?shareKey=YmZ" target=_blank rel="noopener noreferrer">https://www.coolapk.com/feed/35760157?shareKey=YmZ</a></p><p>2.5 编辑xxx_defconfig内核配置文件开启docker支持
一般是编辑xxxx_defcofig
vim arch/arm64/configs/xxxx_defcofig
小米mix2s的为
vim arch/arm64/configs/polaris_defcofig
加入以下内容，并保存。</p><p>CONFIG_NAMESPACES=y
CONFIG_NET_NS=y
CONFIG_PID_NS=y
CONFIG_IPC_NS=y
CONFIG_UTS_NS=y
CONFIG_CGROUPS=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_SCHED=y
CONFIG_CPUSETS=y
CONFIG_MEMCG=y
CONFIG_KEYS=y
CONFIG_VETH=y
CONFIG_BRIDGE=y
CONFIG_BRIDGE_NETFILTER=y
CONFIG_IP_NF_FILTER=y
CONFIG_IP_NF_TARGET_MASQUERADE=y
CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=y
CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
CONFIG_NETFILTER_XT_MATCH_IPVS=y
CONFIG_NETFILTER_XT_MARK=y
CONFIG_IP_NF_NAT=y
CONFIG_NF_NAT=y
CONFIG_POSIX_MQUEUE=y
CONFIG_NF_NAT_IPV4=y
CONFIG_NF_NAT_NEEDED=y
CONFIG_CGROUP_BPF=y
CONFIG_USER_NS=y
CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y
CONFIG_CGROUP_PIDS=y
CONFIG_MEMCG_SWAP=y
CONFIG_MEMCG_SWAP_ENABLED=y
CONFIG_IOSCHED_CFQ=y
CONFIG_CFQ_GROUP_IOSCHED=y
CONFIG_BLK_CGROUP=y
CONFIG_BLK_DEV_THROTTLING=y
CONFIG_CGROUP_PERF=y
CONFIG_CGROUP_HUGETLB=y
CONFIG_NET_CLS_CGROUP=y
CONFIG_CGROUP_NET_PRIO=y
CONFIG_CFS_BANDWIDTH=y
CONFIG_FAIR_GROUP_SCHED=y
CONFIG_RT_GROUP_SCHED=y
CONFIG_IP_NF_TARGET_REDIRECT=y
CONFIG_IP_VS=y
CONFIG_IP_VS_NFCT=y
CONFIG_IP_VS_PROTO_TCP=y
CONFIG_IP_VS_PROTO_UDP=y
CONFIG_IP_VS_RR=y
CONFIG_SECURITY_SELINUX=y
CONFIG_SECURITY_APPARMOR=y
CONFIG_EXT4_FS=y
CONFIG_EXT4_FS_POSIX_ACL=y
CONFIG_EXT4_FS_SECURITY=y
CONFIG_VXLAN=y CONFIG_BRIDGE_VLAN_FILTERING=y
CONFIG_CRYPTO=y CONFIG_CRYPTO_AEAD=y
CONFIG_CRYPTO_GCM=y
CONFIG_CRYPTO_SEQIV=y
CONFIG_CRYPTO_GHASH=y CONFIG_XFRM=y
CONFIG_XFRM_USER=y
CONFIG_XFRM_ALGO=y
CONFIG_INET_ESP=y
CONFIG_INET_XFRM_MODE_TRANSPORT=y
CONFIG_IPVLAN=y
CONFIG_MACVLAN=y
CONFIG_DUMMY=y
CONFIG_NF_NAT_FTP=y
CONFIG_NF_CONNTRACK_FTP=y
CONFIG_NF_NAT_TFTP=y
CONFIG_NF_CONNTRACK_TFTP=y
CONFIG_AUFS_FS=y
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_BLK_DEV_DM=y
CONFIG_DM_THIN_PROVISIONING=y
CONFIG_OVERLAY_FS=y</p><p>2.6 编译内核
创建个构建脚本 build.sh并写下以下内容
vim build.sh</p><p>#!/bin/bash
make clean && make mrproper && rm -rf out
mkdir -p out
export ARCH=arm64
export SUBARCH=arm64
PATH="/root/clang+llvm-14.0.6-aarch64-linux-gnu/bin/:$PATH"
make O=out CC=clang polaris_defconfig ARCH=arm64
make mrproper
make -j$(nproc &ndash;all) O=out \ CROSS_COMPILE=aarch64-linux-gnu- \ CROSS_COMPILE_ARM32=arm-linux-gnueabi- \
CC=clang<br>AR=llvm-ar<br>OBJDUMP=llvm-objdump<br>STRIP=llvm-strip<br>NM=llvm-nm<br>OBJCOPY=llvm-objcopy<br>LD=ld.lld<br>2>&1 | tee error.log</p><p>给予执行权限</p><p>chmod +x build.sh</p><p>开始跑编译，做好散热，可以去喝茶了或睡一觉，中间省略无数场景[doge笑哭][doge笑哭][doge笑哭]，最后在
out/arch/arm64/boot/下获得内核文件Image.gz-dtb</p><p>./build.sh</p><p>2.7 打包内核
用 anykernel3 对内核打包
可看这个
大佬LibXZR
<a href=https://www.akr-developers.com/d/125 target=_blank rel="noopener noreferrer">https://www.akr-developers.com/d/125</a></p><p>cd ~ && git clone <a href=https://github.com/osm0sis/AnyKernel3.git target=_blank rel="noopener noreferrer">https://github.com/osm0sis/AnyKernel3.git</a>
anykernel</p><p>cd anykernel && rm -rf ramdisk &&
cp -r Image.gz-dtb /root/anykernel
vim anykernel.sh</p><p>着重改以下内容
do.devicecheck=0 是否开启设备验证 值为0。
block=/dev/block/bootdevice/by-name/boot; 改成这样别动
is_slot_device=0 是否是ab分区设备 是就写1 反之则0。
改好后保存。</p><p>小米mix2s的我改成这样，不是AB分区设备所以is_slot_device=0; 其他别动
压缩成 zip，就可以通过twrp或ex内核管理器刷入
zip -r polaris_dockerkernel.zip anykernel.sh Image.gz-dtb LICENSE META-INF modules patch tools README.md</p><p>还有一种是大佬所说的造轮子[doge笑哭][doge笑哭]，打包内核 就是解包boot,替换内核。说实话这种成功性非常高，用那种看你自己了。可看我以前动态 这 <a href="https://www.coolapk.com/feed/35761035?shareKey=MTllMWNlNWJiNTdiNjJlYjczMDU~&shareUid=1378604&shareFrom=com.coolapk.market_10.5" target=_blank rel="noopener noreferrer">https://www.coolapk.com/feed/35761035?shareKey=MTllMWNlNWJiNTdiNjJlYjczMDU~&shareUid=1378604&shareFrom=com.coolapk.market_10.5</a></p></div></article><section class="article labels"><a class=category href=/categories/></a><a class=tag href=/tags/></a></section></div><div class="article bottom"><div class="article bottom title">更多文章</div><section class="article navigation"><p><a class=link href=/posts/ndk%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91aria2/><span class="iconfont icon-article"></span>Ndk交叉编译aria2</a></p></section><section class="article discussion"><script src=https://utteranc.es/client.js repo=Hipye/morris issue-term=pathname label theme=github-light crossorigin=anonymous async></script></section><div class=nav-bottom><div class="nav wrap bottom"><nav class=nav><a class="nav item" href=/archives/>归档 </a><a class="nav item" href=/categories/>分类 </a><a class="nav item" href=/tags/>标签</a></nav></div></div></div></section><section id=footer><div class=tongji style=text-align:center><span>共 13 篇文章 • 总计 14249 字</span></div><div class=footer-wrap><p class=copyright>©2019 Moriz.</p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank rel="noopener noreferrer">Notepadium</a></p></div></section><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><script src=/js/hljs.min.6f979583f61e4ec5f0b94f94eab2e130ee628032474d374414dba4e33cc12097a0d01fe65b33378b23f6d3b053b95445.js integrity=sha384-b5eVg/YeTsXwuU+U6rLhMO5igDJHTTdEFNuk4zzBIJeg0B/mWzM3iyP207BTuVRF></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/core.min.5c7b67437ff4e36acca5d4f8fd7094276f09573657d699a765d6ad6b40a7c4e00993c7f07cb6637e726ae7c3f77fc968.js integrity=sha384-XHtnQ3/042rMpdT4/XCUJ28JVzZX1pmnZdata0CnxOAJk8fwfLZjfnJq58P3f8lo></script>
<script src=https://cdn.jsdelivr.net/npm/echarts@5.3.0/dist/echarts.min.js></script>
<script type=text/javascript>var myChart=echarts.init(document.getElementById("heatmap")),option,data,rangeArr,listeners;window.onresize=function(){myChart.resize()};function heatmap_width(e){var t=new Date,o=t.setMonth(t.getMonth()-e),n=+new Date,t=+new Date(o),n=echarts.format.formatTime("yyyy-MM-dd",n),t=echarts.format.formatTime("yyyy-MM-dd",t),s=[];return s.push([t,n]),s}data=[],data.push(["2022-12-05",1916]),data.push(["0001-01-01",1019]),data.push(["2022-12-02",546]),data.push(["2022-11-23",242]),data.push(["2022-11-23",1758]),data.push(["2022-11-20",198]),data.push(["2022-11-20",305]),data.push(["2022-11-18",620]),data.push(["2022-11-11",704]),data.push(["2022-11-11",1050]),data.push(["2022-11-11",1181]),data.push(["2022-11-11",4311]),data.push(["2022-11-11",250]),data.push(["2019-05-28",0]),data.push(["2019-02-28",149]),data.push(["0001-01-01",0]),window.matchMedia("(max-width: 320px)").matches?(rangeArr=heatmap_width(3)):window.matchMedia("(max-width: 400px)").matches?(rangeArr=heatmap_width(5)):window.matchMedia("(max-width: 550px)").matches?(rangeArr=heatmap_width(6)):window.matchMedia("(max-width: 1021px)").matches?(rangeArr=heatmap_width(12)):window.matchMedia("(max-width: 1400px)").matches?(rangeArr=heatmap_width(9)):window.matchMedia("(max-width: 1920px)").matches?(rangeArr=heatmap_width(12)):window.matchMedia("(max-width: 2560px)").matches&&(rangeArr=heatmap_width(24));function LightOption(){option={title:{show:!0,top:0,left:20,text:"文章热力图",textStyle:{color:"rgba(29,43,76,.85)",fontSize:10}},tooltip:{padding:10,backgroundColor:"#777",borderColor:"#777",borderWidth:1,formatter:function(e){var t=e.value;return'<div style="font-size: 14px;color: white;">'+t[0]+": "+t[1]+"</div>"}},visualMap:{show:!1,top:0,min:0,max:5e3,textStyle:{color:"#7bc96f",fontWeight:"bold",fontFamily:"monospace"},calculable:!0,inRange:{symbol:"rect",color:["#ccffcc","#82c979","#43923c","#125b15","#002800"]},itemWidth:12,itemHeight:200,orient:"horizontal",right:0},calendar:{top:45,left:30,right:30,cellSize:[12,12],orient:"horizontal",range:rangeArr,splitLine:{show:!1,lineStyle:{width:.5,type:"solid",color:"white"}},itemStyle:{borderWidth:3.4,borderType:"solid",shadowColor:"#f3f6f9",shadowBlur:1.2,borderColor:"#f3f6f9",color:"#dddddd",opacity:1},yearLabel:{show:!0,position:"top",fontWeight:"normal",fontSize:12,color:"#24292e"},monthLabel:{nameMap:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fontWeight:"bolder",color:"#24292e",fontSize:8},dayLabel:{formatter:"{start}  1st",fontWeight:"bolder",nameMap:["","Mon","","Wed","","Fri",""],color:"#24292e",fontSize:8}},series:{type:"heatmap",coordinateSystem:"calendar",data}},option&&myChart.setOption(option)}function DarkOption(){option={title:{show:!0,top:0,left:20,text:"文章热力图",textStyle:{color:"#c7d5f6",fontSize:10}},tooltip:{padding:10,backgroundColor:"#777",borderColor:"#777",borderWidth:1,formatter:function(e){var t=e.value;return'<div style="font-size: 14px;color: white;">'+t[0]+": "+t[1]+"</div>"}},visualMap:{show:!1,top:0,min:0,max:5e3,textStyle:{color:"#c7d5f6",fontWeight:"bold",fontFamily:"monospace"},calculable:!0,inRange:{symbol:"rect",color:["#ccffcc","#82c979","#43923c","#125b15","#002800"],opacity:.8},itemWidth:12,itemHeight:200,orient:"horizontal",right:0},calendar:{top:45,left:30,right:30,cellSize:[12,12],orient:"horizontal",range:rangeArr,splitLine:{show:!1,lineStyle:{width:.5,type:"solid",color:"white"}},itemStyle:{borderWidth:3.4,borderType:"solid",shadowColor:"#0d1117",shadowBlur:1.2,borderColor:"#0d1117",color:"#24292e",opacity:1},yearLabel:{show:!0,position:"top",fontWeight:"normal",fontSize:12,color:"#c7d5f6"},monthLabel:{nameMap:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fontWeight:"bolder",color:"#c7d5f6",fontSize:8},dayLabel:{formatter:"{start}  1st",fontWeight:"bolder",nameMap:["","Mon","","Wed","","Fri",""],color:"#c7d5f6",fontSize:8}},series:{type:"heatmap",coordinateSystem:"calendar",data}},option&&myChart.setOption(option)}window.matchMedia("(prefers-color-scheme: dark)").matches?DarkOption():LightOption(),listeners={dark:e=>{e.matches&&DarkOption()},light:e=>{e.matches&&LightOption()}},window.matchMedia("(prefers-color-scheme: dark)").addListener(listeners.dark),window.matchMedia("(prefers-color-scheme: light)").addListener(listeners.light)</script></body></html>